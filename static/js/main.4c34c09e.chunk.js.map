{"version":3,"sources":["images/icons sync /^/.*/.svg$","images/icons/cog.svg","images/icons/eject.svg","images/icons/io.svg","images/icons/pause.svg","images/icons/play.svg","images/icons/rotate.svg","images/icons/stop.svg","hooks/useKeyboard.js","hooks/useAnimationFrame.js","lib/util.js","lib/object.js","lib/timer.js","lib/colors.js","components/icon/Icon.js","components/button/Button.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","useKeyboard","listener","useEffect","keyListener","keyCode","document","addEventListener","removeEventListener","useAnimationFrame","tickCallback","stopPredicate","dependencies","reqId","window","requestAnimationFrame","step","cancelAnimationFrame","durationAsString","time","withSign","durationAsMap","hours","minutes","seconds","milliseconds","join","parseSegment","timestamp","padLength","str","length","padStart","padNumber","Math","abs","mapAsDuration","patch","obj","newObj","assign","init","direction","duration","stateSnapshot","threshold","eventsSnapshot","state","events","setState","newState","patchState","setEvents","newEvents","resolveLaps","reduce","accum","index","arr","type","prevType","prevTimestamp","includes","push","endTime","startTime","getEvents","getState","getLaps","_getEllapsedTime","filter","running","paused","Date","now","getEllapsedTime","ellapsedTime","getEllapsedTimeString","command","actionFn","eventPredicate","start","pause","resume","stop","lap","abortLap","pop","clear","generateIterator","colorNames","colorLevels","count","level","name","materialUiColors","flatMap","concat","flattenColorMap","iterator","Icon","color","size","props","iconColor","colors","next","src","require","default","className","style","iconPropMap","play","marginRight","eject","transform","rotate","io","marginTop","cog","Button","text","icon","tooltip","App","useLocalStorage","timerThreshold","setTimerThreshold","timerDuration","setTimerDuration","timerState","setTimerState","timerEvents","setTimerEvents","countdownTimer","timer","useState","laps","setLaps","setEllapsedTime","editMode","setEditMode","patchUnmarshalledTimerState","timericonPropMap","renderTimerControlButton","callback","isLapStarted","onMouseDown","renderTimeSegmentInput","segmentKey","timeObj","onChange","value","place","effect","delayShow","border","multiline","target","key","backgroundColor","paddingLeft","toLocaleString","Boolean","location","hostname","match","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.4c34c09e.chunk.js","sourcesContent":["var map = {\n\t\"./cog.svg\": 54,\n\t\"./eject.svg\": 55,\n\t\"./io.svg\": 56,\n\t\"./pause.svg\": 57,\n\t\"./play.svg\": 58,\n\t\"./rotate.svg\": 59,\n\t\"./stop.svg\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 53;","export default __webpack_public_path__ + \"static/media/cog.50f0fece.svg\";","export default __webpack_public_path__ + \"static/media/eject.01c8b931.svg\";","export default __webpack_public_path__ + \"static/media/io.be77a7f6.svg\";","export default __webpack_public_path__ + \"static/media/pause.e07e8764.svg\";","export default __webpack_public_path__ + \"static/media/play.7301d9ac.svg\";","export default __webpack_public_path__ + \"static/media/rotate.b1c8f06c.svg\";","export default __webpack_public_path__ + \"static/media/stop.f4a2ca02.svg\";","import {useEffect} from 'react'\r\n\r\n\r\nconst useKeyboard = (listener = () => {}) => {\r\n  useEffect(() => {\r\n    const keyListener = ({keyCode: code}) => listener({code})\r\n\r\n    // keydown is best for capturing backspace and such\r\n    document.addEventListener('keydown', keyListener)\r\n    return () => {\r\n      document.removeEventListener('keydown', keyListener)\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport default useKeyboard\r\n","\r\nimport {useEffect} from 'react'\r\n\r\nconst useAnimationFrame = (tickCallback = () => {}, stopPredicate = () => 1, dependencies) => {\r\n  useEffect(() => {\r\n    let reqId = window.requestAnimationFrame(function step() {\r\n      tickCallback()\r\n      if (!stopPredicate()) {\r\n        reqId = window.requestAnimationFrame(step)\r\n      }\r\n    })\r\n    return () => {\r\n      window.cancelAnimationFrame(reqId)\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, dependencies)\r\n}\r\n\r\nexport default useAnimationFrame\r\n","\r\nexport const durationAsString = (time, withSign) => {\r\n  const {hours, minutes, seconds, milliseconds} = durationAsMap(time)\r\n  return `${withSign ? (time < 0 ? '-' : ' ') : ''}${\r\n    [hours, minutes, seconds].join(':')\r\n  }.${milliseconds}${withSign ? ' ' : ''}`\r\n}\r\n\r\nexport const padNumber = (str, length = 2) => `${str}`.padStart(length, '0')\r\n\r\nexport const durationAsMap = time => {\r\n  const parseSegment = (timestamp, padLength) => {\r\n    return padNumber(Math.abs(Math[time < 0 ? 'ceil' : 'floor'](timestamp)), padLength)\r\n  }\r\n  return {\r\n    hours: parseSegment(time / 1000 / 60 / 60),\r\n    minutes: parseSegment((time / 1000 / 60) % 60),\r\n    seconds: parseSegment((time / 1000) % 60),\r\n    milliseconds: parseSegment(time % 1000, 3),\r\n  }\r\n}\r\n\r\nexport const mapAsDuration = ({hours, minutes, seconds, milliseconds}) => {\r\n  return (hours * 60 * 60 * 1000) + (minutes * 60 * 1000) + (seconds * 1000) + milliseconds\r\n}\r\n","\r\n// mutates obj!\r\nexport const patch = (obj = {}, newObj = {}) => Object.assign(obj, newObj)\r\n\r\nexport const serialize = (...args) => args.length ? JSON.stringify(...args) : ''\r\n\r\nexport const deserialize = string => JSON.parse(string ?? '{}')\r\n","import {patch} from './object'\r\nimport {durationAsString} from './util'\r\n\r\nconst init = ({\r\n  direction = 'up',\r\n  duration = 30 * 1000,\r\n  threshold = 5 * 1000,\r\n} = {}, stateSnapshot, eventsSnapshot) => {\r\n\r\n  let state = stateSnapshot ?? {}\r\n  let events = eventsSnapshot ?? []\r\n\r\n  const setState = newState => (state = newState)\r\n  const patchState = newState => patch(state, newState)\r\n  const setEvents = newEvents => (events = newEvents)\r\n\r\n  const resolveLaps = () => events\r\n    .reduce((accum, {type, timestamp}, index, arr) => {\r\n      const {type: prevType, timestamp: prevTimestamp} = arr[index - 1] ?? {}\r\n      if (prevType === 'lap' && ['lap', 'stop', 'pause'].includes(type)) {\r\n        accum.push({\r\n          endTime: timestamp,\r\n          startTime: prevTimestamp,\r\n          duration: timestamp - prevTimestamp,\r\n        })\r\n      }\r\n      return accum\r\n    }, [])\r\n\r\n  const getEvents = () => events ?? []\r\n  const getState = () => state ?? {}\r\n  const getLaps = resolveLaps\r\n\r\n  const _getEllapsedTime = () => events\r\n    .filter(({type}) => ['start', 'stop', 'pause', 'resume'].includes(type))\r\n    .reduce((accum, {timestamp, type}, index, arr) => {\r\n      const {timestamp: prevTimestamp, type: prevType} = arr[index - 1] ?? {}\r\n      if (state.running && !state.paused && !arr[index + 1]) {\r\n        accum += Date.now() - timestamp\r\n      } else if ((type === 'pause' || type === 'stop') &&\r\n        (prevType === 'start' || prevType === 'resume')) {\r\n        accum += (timestamp - prevTimestamp)\r\n      }\r\n      return accum\r\n    }, 0)\r\n\r\n  const getEllapsedTime = (ellapsedTime = _getEllapsedTime()) => direction === 'up' ? ellapsedTime : duration - ellapsedTime\r\n\r\n  const getEllapsedTimeString = () => durationAsString(getEllapsedTime(), true)\r\n\r\n  const command = (type, actionFn = () => {}, eventPredicate = () => 1) => (time = Date.now()) => {\r\n    actionFn(time)\r\n    eventPredicate() && events.push({\r\n      type,\r\n      timestamp: time,\r\n    })\r\n  }\r\n\r\n  const start = command(\r\n    'start',\r\n    time => !state.running && patchState({running: true}))\r\n  const pause = command(\r\n    'pause',\r\n    () => state.running && !state.paused && patchState({paused: true}))\r\n  const resume = command(\r\n    'resume',\r\n    () => state.paused && state.paused && patchState({paused: false}))\r\n  const stop = command(\r\n    'stop',\r\n    time => state.running && patchState({running: false}))\r\n  const lap = command(\r\n    'lap',\r\n    void 0,\r\n    () => state.running && !state.paused)\r\n  const abortLap = () => {\r\n    if (state.running && !state.paused &&\r\n      (events[events.length - 1] || {}).type === 'lap') {\r\n      events.pop()\r\n    }\r\n  }\r\n  const clear = () => !state.running && setState({}) && setEvents([])\r\n\r\n  return {\r\n    start,\r\n    pause,\r\n    resume,\r\n    stop,\r\n    lap,\r\n    abortLap,\r\n    clear,\r\n    getState,\r\n    getLaps,\r\n    getEvents,\r\n    getEllapsedTime,\r\n    getEllapsedTimeString,\r\n  }\r\n}\r\n\r\nexport default init\r\n","import * as materialUiColors from 'material-ui-colors'\r\n\r\n\r\nconst colorNames = [\r\n  'red',\r\n  'pink',\r\n  'purple',\r\n  'deepPurple',\r\n  'indigo',\r\n  'blue',\r\n  'lightBlue',\r\n  'cyan',\r\n  'teal',\r\n  'green',\r\n  'lightGreen',\r\n  'lime',\r\n  'yellow',\r\n  'amber',\r\n  'orange',\r\n  'deepOrange',\r\n  'brown',\r\n  'grey',\r\n  'blueGrey',\r\n]\r\n\r\nconst colorLevels = [\r\n  // '50',\r\n  // '100',\r\n  // '200',\r\n  '300',\r\n  '400',\r\n  '500',\r\n  '600',\r\n  '700',\r\n  '800',\r\n  '900',\r\n  'A100',\r\n  // 'A200',\r\n  // 'A400',\r\n  // 'A700',\r\n]\r\n\r\nfunction* generateIterator() {\r\n  let count = 0\r\n  for (let level of colorLevels) {\r\n    for (let name of colorNames) {\r\n      count++\r\n      yield materialUiColors[name][level]\r\n    }\r\n  }\r\n  return count;\r\n}\r\n\r\nconst flattenColorMap = () => [].concat(...colorLevels\r\n  .map(level => colorNames\r\n    .map(name => materialUiColors[name][level])))\r\n\r\n\r\nexport const flatMap = flattenColorMap()\r\n\r\nexport const iterator = generateIterator()\r\n","import React, {useRef, useState, useEffect} from 'react'\r\nimport {iterator as colors} from '../../lib/colors'\r\nimport { ReactSVG } from 'react-svg'\r\n\r\nimport './Icon.css'\r\n\r\n\r\nconst Icon = ({ name, color, size = '24px', ...props }) => {\r\n\r\n  // true value signals that the icon color should be chosen internally\r\n  const iconColor = color === true ?\r\n    colors.next() :\r\n      color || 'var(--redhat)'\r\n\r\n  return <ReactSVG\r\n    src={require(`../../images/icons/${name}.svg`).default}\r\n    className=\"cd-icon\"\r\n    style={{\r\n      '--icon-size': size,\r\n      '--icon-color': iconColor,\r\n      ...props.style\r\n    }}\r\n  />\r\n}\r\n\r\n\r\nexport default Icon\r\n","import React from 'react'\r\nimport Icon from '../icon/Icon'\r\n\r\nimport './Button.css'\r\n\r\n\r\nconst iconPropMap = {\r\n  play: { size: '45%', style: {\r\n    marginRight: '-6%',\r\n  }},\r\n  pause: { size: '45%' },\r\n  eject: { size: '45%', style: {\r\n    marginRight: '-6%',\r\n    transform: 'rotate(90deg)',\r\n  }},\r\n  stop: { size: '45%' },\r\n  rotate: { size: '60%', style: {\r\n    marginRight: '-6%',\r\n    transform: 'rotate(90deg)',\r\n  }},\r\n  io: { size: '60%', style: {\r\n    marginTop: '-6%',\r\n  } },\r\n  cog: { size: '55%' },\r\n}\r\n\r\nconst Button = ({text = '', icon, tooltip, className, ...props}) => (<button\r\n  data-tip={tooltip}\r\n  className={`cd-button ${className}`}\r\n  {...props}\r\n  ><Icon name={icon} {...iconPropMap[icon]} />{text}</button>)\r\n\r\n\r\nexport default Button\r\n","import React, {useState} from 'react'\r\nimport useLocalStorage from 'use-local-storage'\r\nimport useKeyboard from './hooks/useKeyboard'\r\nimport useAnimationFrame from './hooks/useAnimationFrame'\r\nimport {mapAsDuration, durationAsString} from './lib/util'\r\nimport timer from './lib/timer'\r\nimport {flatMap as colors} from './lib/colors'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport Button from './components/button/Button'\r\n\r\nimport './App.css'\r\n\r\n\r\nfunction App() {\r\n\r\n  const [timerThreshold, setTimerThreshold] = useLocalStorage('timer-threshold', {\r\n    hours: 0,\r\n    minutes: 0,\r\n    seconds: 3,\r\n    milliseconds: 45,\r\n  })\r\n  const [timerDuration, setTimerDuration] = useLocalStorage('timer-duration', {\r\n    hours: 0,\r\n    minutes: 0,\r\n    seconds: 12,\r\n    milliseconds: 345,\r\n  })\r\n\r\n  const [timerState, setTimerState] = useLocalStorage('timer-state', {})\r\n  const [timerEvents, setTimerEvents] = useLocalStorage('timer-events', [])\r\n\r\n  const countdownTimer = timer({\r\n    direction: 'down',\r\n    duration: mapAsDuration(timerDuration),\r\n    threshold: mapAsDuration(timerThreshold),\r\n  }, timerState, timerEvents)\r\n\r\n  const [laps, setLaps] = useState(countdownTimer.getLaps() ?? [])\r\n  const [ellapsedTime, setEllapsedTime] = useState(countdownTimer.getEllapsedTimeString())\r\n\r\n  const [editMode, setEditMode] = useState(false)\r\n\r\n  const patchUnmarshalledTimerState = () => {\r\n    setTimerState({...timerState, ...countdownTimer.getState()})\r\n    setTimerEvents([...countdownTimer.getEvents()])\r\n    setLaps([...countdownTimer.getLaps()])\r\n  }\r\n\r\n  const setUnmarshalledTimerState = () => {\r\n    setTimerState({...countdownTimer.getState()})\r\n    setTimerEvents([...countdownTimer.getEvents()])\r\n    setLaps([...countdownTimer.getLaps()])\r\n  }\r\n\r\n  const timericonPropMap = {\r\n    start: 'play',\r\n    pause: 'pause',\r\n    resume: 'eject',\r\n    stop: 'stop',\r\n    lap: 'rotate',\r\n    clear: 'io',\r\n  }\r\n\r\n  const renderTimerControlButton = (command, callback = patchUnmarshalledTimerState) => {\r\n    const isLapStarted = command === 'lap' &&\r\n      (timerEvents[timerEvents.length - 1] || {}).type === 'lap'\r\n\r\n    return <Button\r\n      icon={timericonPropMap[command]}\r\n      tooltip={command}\r\n      className={`App-control-button ${isLapStarted ? 'cd-animation-pulse' : ''}`}\r\n      style={isLapStarted ? {\r\n        '--pulse-delay': `${mapAsDuration(timerThreshold)}ms`,\r\n      } : null}\r\n      onMouseDown={() => {\r\n        countdownTimer[command] && countdownTimer[command]()\r\n        callback()\r\n      }}\r\n    />\r\n  }\r\n\r\n  const renderTimeSegmentInput = (segmentKey, timeObj, onChange) => (<input type=\"number\"\r\n    className={`App-config-input App-config-input-${segmentKey}`}\r\n    value={timeObj[segmentKey]}\r\n    onChange={onChange} />)\r\n\r\n  const renderDurationTimeSegmentInput = segmentKey => renderTimeSegmentInput(\r\n    segmentKey, timerDuration, e => setTimerDuration({\r\n      ...timerDuration,\r\n      [segmentKey]: +e.target.value,\r\n    }))\r\n\r\n  const renderThresholdTimeSegmentInput = segmentKey => renderTimeSegmentInput(\r\n    segmentKey, timerThreshold, e => setTimerThreshold({\r\n      ...timerThreshold,\r\n      [segmentKey]: +e.target.value,\r\n    }))\r\n\r\n\r\n  useKeyboard(({code}) => {\r\n    switch (code) {\r\n      case 32: // spacebar\r\n        countdownTimer.lap()\r\n        patchUnmarshalledTimerState()\r\n        break\r\n      case 8: // backspace\r\n        countdownTimer.abortLap()\r\n        patchUnmarshalledTimerState()\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  })\r\n\r\n  useAnimationFrame(\r\n    () => setEllapsedTime(countdownTimer.getEllapsedTimeString()),\r\n    () => !timerState.running || timerState.paused,\r\n    [timerState.running, timerState.paused])\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ReactTooltip\r\n        place=\"bottom\"\r\n        effect=\"solid\"\r\n        delayShow={420}\r\n        border\r\n        multiline\r\n      />\r\n      <header className=\"App-header\">\r\n        <h1 className=\"App-title\">countdown</h1>\r\n      </header>\r\n      <div className=\"App-top-menu\">\r\n        <Button\r\n          icon=\"cog\"\r\n          tooltip=\"config\"\r\n          onMouseDown={() => setEditMode(!editMode)}\r\n        />\r\n      </div>\r\n      {editMode ?\r\n      (<div className=\"App-config-modal\">\r\n        <label className=\"App-config-label\">threshold</label>\r\n        <div className=\"App-config-box\">\r\n          {['hours', 'minutes', 'seconds', 'milliseconds']\r\n              .map(renderThresholdTimeSegmentInput)}\r\n        </div>\r\n        <label className=\"App-config-label\">duration</label>\r\n        <div className=\"App-config-box\">\r\n          {['hours', 'minutes', 'seconds', 'milliseconds']\r\n              .map(renderDurationTimeSegmentInput)}\r\n        </div>\r\n      </div>\r\n      ) : (\r\n      <main className=\"App-main\">\r\n\r\n        <pre className=\"App-time-display\">{ellapsedTime}</pre>\r\n        <nav className=\"App-controls\">\r\n          {renderTimerControlButton(\r\n            timerState.running ?\r\n              timerState.paused ? 'resume' : 'pause' :\r\n                'start')}\r\n          {renderTimerControlButton('stop')}\r\n          {renderTimerControlButton('lap')}\r\n          {renderTimerControlButton('clear', setUnmarshalledTimerState)}\r\n        </nav>\r\n\r\n        <div className=\"App-laps-display\">\r\n          {laps.map(({startTime, endTime, duration}, key, arr) => (<span\r\n            key={key}\r\n            className=\"App-laps-item\"\r\n            style={{\r\n              backgroundColor: colors[key],\r\n              paddingLeft: `${duration / (arr.reduce((accum, {duration}) => (accum += duration), 0) / 100)}%`\r\n            }}\r\n            data-tip={`\r\nstart time: ${new Date(startTime).toLocaleString()}<br/>\r\nend time: ${new Date(endTime).toLocaleString()}<br/>\r\nduration: ${durationAsString(duration)}<br/>`\r\n            }\r\n            >&nbsp;</span>))}\r\n        </div>\r\n      </main>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}