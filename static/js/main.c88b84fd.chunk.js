(this.webpackJsonpcountdown=this.webpackJsonpcountdown||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),u=n(5),a=n.n(u),c=(n(10),n(1)),i=n(3),s=function(t,e){return Object.assign(t,e)},l=function(){return arguments.length?JSON.stringify.apply(JSON,arguments):""},d=function(t){return e=function(t){return window.localStorage&&window.localStorage.getItem(t)}(t),JSON.parse(null!==e&&void 0!==e?e:"{}");var e},p=function(t,e){return function(t,e){return window.localStorage&&window.localStorage.setItem(t,e)}(t,l(e))},j=-72e5,f={startTime:j,endTime:j},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.direction,n=void 0===e?"up":e,r=t.duration,o=void 0===r?3e4:r,u=(t.threshold,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),a=Object(c.a)(Object(c.a)({},f),u),i=[],l=[],d=function(t){return s(a,t)},p=function(t){return s(i,t)},j=function(t,e){return(e||[]).map((function(e){return e-t.startTime})).filter((function(t){return"lap"===t.type})).map((function(t){return t}))},b=function(){return a},g=function(){return j(a,l)},O=function(){return l.filter((function(t){var e=t.type;return["start","stop","pause","resume"].includes(e)})).reduce((function(t,e,n,r){var o,u=e.timestamp,c=e.type,i=null!==(o=r[n-1])&&void 0!==o?o:{},s=i.timestamp,l=i.type;return!a.running||a.paused||r[n+1]?"pause"!==c&&"stop"!==c||"start"!==l&&"resume"!==l||(t+=u-s):t+=Date.now()-u,t}),0)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O();return"up"===n?t:o-t},h=function(){var t=m(),e=function(e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(t).padStart(e,"0")}(Math.abs(Math[t<0?"ceil":"floor"](e)),n)};return"".concat(t<0?"-":" ").concat([e(t/1e3/60/60),e(t/1e3/60),e(t/1e3),e(t%1e3,3)].join(":"))},w=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e(n)&&l.push({type:t,timestamp:n})}},v=w("start",(function(t){return!a.running&&d({running:!0,startTime:t})})),S=w("pause",(function(){return a.running&&!a.paused&&d({paused:!0})})),x=w("resume",(function(){return a.running&&a.paused&&d({paused:!1})})),T=w("stop",(function(t){return a.running&&d({endTime:t,running:!1})})),E=w("lap",(function(t){return a.running&&!a.paused&&p([].concat(i,[t]))})),y=function(){return!a.running&&d(f)&&(l=[])};return{start:v,pause:S,resume:x,stop:T,lap:E,clear:y,getState:b,getLaps:g,getEllapsedTime:m,getEllapsedTimeString:h}},g=(n(11),n(0)),O=b({direction:"down",duration:2e3});var m=function(){var t=Object(r.useState)(O.getEllapsedTimeString()),e=Object(i.a)(t,2),n=e[0],o=e[1],u=Object(r.useState)(O.getState()),a=Object(i.a)(u,2),s=a[0],j=a[1],f=Object(r.useState)(O.getLaps()),b=Object(i.a)(f,2),m=b[0],h=b[1];return Object(r.useEffect)((function(){var t=d("countdown-state");j(t.state),h(t.laps)}),[]),Object(r.useEffect)((function(){var t=p.bind(null,"countdown-state",{state:O.getState(),laps:O.getLaps()});return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[]),Object(r.useEffect)((function(){var t=window.requestAnimationFrame((function e(){o(O.getEllapsedTimeString()),s.running&&!s.paused&&(t=window.requestAnimationFrame(e))}));return function(){window.cancelAnimationFrame(t)}}),[s]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("h1",{className:"App-title",children:"countdown"}),Object(g.jsx)("button",{onMouseDown:function(){return O.start()&&j(Object(c.a)(Object(c.a)({},s),O.getState()))},children:"start"}),Object(g.jsx)("button",{onMouseDown:function(){return O.pause()&&j(Object(c.a)(Object(c.a)({},s),O.getState()))},children:"pause"}),Object(g.jsx)("button",{onMouseDown:function(){return O.resume()&&j(Object(c.a)(Object(c.a)({},s),O.getState()))},children:"resume"}),Object(g.jsx)("button",{onMouseDown:function(){return O.stop()&&j(Object(c.a)(Object(c.a)({},s),O.getState()))},children:"stop"}),Object(g.jsx)("button",{onMouseDown:function(){return O.lap()&&j(Object(c.a)(Object(c.a)({},s),O.getState()))},children:"lap"}),Object(g.jsx)("button",{onMouseDown:function(){return O.clear()&&j(Object(c.a)(Object(c.a)({},s),O.getState()))},children:"clear"})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("main",{className:"App-main",children:[Object(g.jsx)("code",{children:(O.getLaps()||[]).map((function(t){return Object(g.jsx)("p",{children:t})}))}),Object(g.jsx)("pre",{children:n})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("pre",{children:["state: ",l(s,null,2)]}),Object(g.jsxs)("pre",{children:["laps: ",l(m,null,2)]})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,u=e.getLCP,a=e.getTTFB;n(t),r(t),o(t),u(t),a(t)}))};a.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(m,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),h()}},[[13,1,2]]]);
//# sourceMappingURL=main.c88b84fd.chunk.js.map