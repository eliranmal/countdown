(this.webpackJsonpcountdown=this.webpackJsonpcountdown||[]).push([[0],{10:function(t,n,e){},11:function(t,n,e){},13:function(t,n,e){"use strict";e.r(n);var r=e(1),o=e.n(r),a=e(5),u=e.n(a),c=(e(10),e(2)),i=e(3),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(t,n)},l=function(t){return n=function(t){return window.localStorage&&window.localStorage.getItem(t)}(t),JSON.parse(null!==n&&void 0!==n?n:"{}");var n},p=function(t,n){return function(t,n){return window.localStorage&&window.localStorage.setItem(t,n)}(t,function(){return arguments.length?JSON.stringify.apply(JSON,arguments):""}(n))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.direction,e=void 0===n?"up":n,r=t.duration,o=void 0===r?3e4:r,a=(t.threshold,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),u=arguments.length>2?arguments[2]:void 0,c=[],i=null!==a&&void 0!==a?a:{},l=null!==u&&void 0!==u?u:[],p=function(t){return s(i,t)},d=function(t){return s(c,t)},f=function(t,n){return(n||[]).map((function(n){return n-t.startTime})).filter((function(t){return"lap"===t.type})).map((function(t){return t}))},g=function(){return l},m=function(){return i},b=function(){return f(i,l)},j=function(){return l.filter((function(t){var n=t.type;return["start","stop","pause","resume"].includes(n)})).reduce((function(t,n,e,r){var o,a=n.timestamp,u=n.type,c=null!==(o=r[e-1])&&void 0!==o?o:{},s=c.timestamp,l=c.type;return!i.running||i.paused||r[e+1]?"pause"!==u&&"stop"!==u||"start"!==l&&"resume"!==l||(t+=a-s):t+=Date.now()-a,t}),0)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return"up"===e?t:o-t},w=function(){var t=v(),n=function(n,e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(t).padStart(n,"0")}(Math.abs(Math[t<0?"ceil":"floor"](n)),e)};return"".concat(t<0?"-":" ").concat([n(t/1e3/60/60),n(t/1e3/60),n(t/1e3),n(t%1e3,3)].join(":"))},h=function(t,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return n(e)&&l.push({type:t,timestamp:e})}},O=h("start",(function(t){return!i.running&&p({running:!0,startTime:t})})),S=h("pause",(function(){return i.running&&!i.paused&&p({paused:!0})})),x=h("resume",(function(){return i.running&&i.paused&&p({paused:!1})})),A=h("stop",(function(t){return i.running&&p({endTime:t,running:!1})})),N=h("lap",(function(t){return i.running&&!i.paused&&d([].concat(c,[t]))})),E=function(){return!i.running&&(i={})&&(l=[])};return{start:O,pause:S,resume:x,stop:A,lap:N,clear:E,getState:m,getLaps:b,getEvents:g,getEllapsedTime:v,getEllapsedTimeString:w}},f=(e(11),e(0)),g={direction:"down"},m=d(g);var b=function(){var t=Object(r.useState)(m.getEllapsedTimeString()),n=Object(i.a)(t,2),e=n[0],o=n[1],a=Object(r.useState)(m.getState()),u=Object(i.a)(a,2),s=u[0],b=u[1],j=Object(r.useState)(m.getLaps()),v=Object(i.a)(j,2),w=(v[0],v[1]);return Object(r.useEffect)((function(){var t=l("countdown-state");b(t.state),w(t.laps),m=d(g,t.state,t.events),console.log("countdownTimer",m)}),[]),Object(r.useEffect)((function(){var t=p.bind(null,"countdown-state",{state:m.getState(),events:m.getEvents(),laps:m.getLaps()});return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[]),Object(r.useEffect)((function(){var t=window.requestAnimationFrame((function n(){o(m.getEllapsedTimeString()),s.running&&!s.paused&&(t=window.requestAnimationFrame(n))}));return function(){window.cancelAnimationFrame(t)}}),[s]),Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("header",{className:"App-header",children:Object(f.jsx)("h1",{className:"App-title",children:"countdown"})}),Object(f.jsxs)("main",{className:"App-main",children:[Object(f.jsx)("code",{children:(m.getLaps()||[]).map((function(t){return Object(f.jsx)("p",{children:t})}))}),Object(f.jsx)("pre",{className:"App-time-counter",children:e}),Object(f.jsxs)("nav",{className:"App-controls",children:[Object(f.jsx)("button",{className:"App-button-".concat(s.running?s.paused?"resume":"pause":"start"),onMouseDown:function(){return m[s.running?s.paused?"resume":"pause":"start"]()&&b(Object(c.a)(Object(c.a)({},s),m.getState()))}}),Object(f.jsx)("button",{className:"App-button-stop",onMouseDown:function(){return m.stop()&&b(Object(c.a)(Object(c.a)({},s),m.getState()))}}),Object(f.jsx)("button",{className:"App-button-lap",onMouseDown:function(){return m.lap()&&b(Object(c.a)(Object(c.a)({},s),m.getState()))}}),Object(f.jsx)("button",{className:"App-button-clear",onMouseDown:function(){return m.clear()&&b(Object(c.a)(Object(c.a)({},s),m.getState()))}})]})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,14)).then((function(n){var e=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,u=n.getTTFB;e(t),r(t),o(t),a(t),u(t)}))};u.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(b,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),j()}},[[13,1,2]]]);
//# sourceMappingURL=main.3a425cdf.chunk.js.map