(this.webpackJsonpcountdown=this.webpackJsonpcountdown||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),c=n(5),u=n.n(c),a=(n(10),n(1)),i=n(3),s=function(t,e){return Object.assign(t,e)},l=function(){return arguments.length?JSON.stringify.apply(JSON,arguments):""},d=function(t){return e=function(t){return window.localStorage&&window.localStorage.getItem(t)}(t),JSON.parse(null!==e&&void 0!==e?e:"{}");var e},p=function(t,e){return function(t,e){return window.localStorage&&window.localStorage.setItem(t,e)}(t,l(e))},j=-72e5,f={startTime:j,endTime:j},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.direction,t.duration,t.threshold,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=Object(a.a)(Object(a.a)({},f),e),r=[],o=[],c=function(t){return s(n,t)},u=function(t){return s(r,t)},i=function(t,e){return(e||[]).map((function(e){return e-t.startTime})).filter((function(t){return"lap"===t.type})).map((function(t){return t}))},l=function(){return n},d=function(){return i(n,o)},p=function(){return o.filter((function(t){var e=t.type;return["start","stop","pause","resume"].includes(e)})).reduce((function(t,e,r,o){var c,u=e.timestamp,a=e.type,i=null!==(c=o[r-1])&&void 0!==c?c:{},s=i.timestamp,l=i.type;return!n.running||n.paused||o[r+1]?"pause"!==a&&"stop"!==a||"start"!==l&&"resume"!==l||(t+=u-s):t+=Date.now()-u,t}),0)},j=function(){var t=new Date(p()),e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(t[e]()).padStart(n,"0")};return"".concat(e("getUTCHours"),":").concat(e("getUTCMinutes"),":").concat(e("getUTCSeconds"),".").concat(e("getUTCMilliseconds",3))},g=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e(n)&&o.push({type:t,timestamp:n})}},b=g("start",(function(t){return!n.running&&c({running:!0,startTime:t})})),O=g("pause",(function(){return n.running&&!n.paused&&c({paused:!0})})),m=g("resume",(function(){return n.running&&n.paused&&c({paused:!1})})),h=g("stop",(function(t){return n.running&&c({endTime:t,running:!1})})),w=g("lap",(function(t){return n.running&&!n.paused&&u([].concat(r,[t]))})),v=function(){return!n.running&&c(f)&&(o=[])};return{start:b,pause:O,resume:m,stop:h,lap:w,clear:v,getState:l,getLaps:d,getEllapsedTime:p,getEllapsedTimeString:j}},b=(n(11),n(0)),O=g({direction:"down"});var m=function(){var t=Object(r.useState)(O.getEllapsedTimeString()),e=Object(i.a)(t,2),n=e[0],o=e[1],c=Object(r.useState)(O.getState()),u=Object(i.a)(c,2),s=u[0],j=u[1],f=Object(r.useState)(O.getLaps()),g=Object(i.a)(f,2),m=g[0],h=g[1];return Object(r.useEffect)((function(){var t=d("countdown-state");j(t.state),h(t.laps)}),[]),Object(r.useEffect)((function(){var t=p.bind(null,"countdown-state",{state:O.getState(),laps:O.getLaps()});return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[]),Object(r.useEffect)((function(){var t=window.requestAnimationFrame((function e(){o(O.getEllapsedTimeString()),s.running&&!s.paused&&(t=window.requestAnimationFrame(e))}));return function(){window.cancelAnimationFrame(t)}}),[s]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("button",{onMouseDown:function(){return O.start()&&j(Object(a.a)(Object(a.a)({},s),O.getState()))},children:"start"}),Object(b.jsx)("button",{onMouseDown:function(){return O.pause()&&j(Object(a.a)(Object(a.a)({},s),O.getState()))},children:"pause"}),Object(b.jsx)("button",{onMouseDown:function(){return O.resume()&&j(Object(a.a)(Object(a.a)({},s),O.getState()))},children:"resume"}),Object(b.jsx)("button",{onMouseDown:function(){return O.stop()&&j(Object(a.a)(Object(a.a)({},s),O.getState()))},children:"stop"}),Object(b.jsx)("button",{onMouseDown:function(){return O.lap()&&j(Object(a.a)(Object(a.a)({},s),O.getState()))},children:"lap"}),Object(b.jsx)("button",{onMouseDown:function(){return O.clear()&&j(Object(a.a)(Object(a.a)({},s),O.getState()))},children:"clear"})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("main",{children:[Object(b.jsx)("code",{children:(O.getLaps()||[]).map((function(t){return Object(b.jsx)("p",{children:t})}))}),Object(b.jsx)("pre",{children:n})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("pre",{children:["state: ",l(s,null,2)]}),Object(b.jsxs)("pre",{children:["laps: ",l(m,null,2)]})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,u=e.getTTFB;n(t),r(t),o(t),c(t),u(t)}))};u.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),h()}},[[13,1,2]]]);
//# sourceMappingURL=main.35bca97a.chunk.js.map