(this.webpackJsonpcountdown=this.webpackJsonpcountdown||[]).push([[0],{10:function(t,n,e){},11:function(t,n,e){},13:function(t,n,e){"use strict";e.r(n);var r=e(2),a=e.n(r),o=e(5),u=e.n(o),c=(e(10),e(1)),i=e(3),s=function(t,n){return Object.assign(t,n)},p=function(t){return n=function(t){return window.localStorage&&window.localStorage.getItem(t)}(t),JSON.parse(null!==n&&void 0!==n?n:"{}");var n},l=function(t,n){return function(t,n){return window.localStorage&&window.localStorage.setItem(t,n)}(t,function(){return arguments.length?JSON.stringify.apply(JSON,arguments):""}(n))},d=-72e5,f={startTime:d,endTime:d},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.direction,e=void 0===n?"up":n,r=t.duration,a=void 0===r?3e4:r,o=(t.threshold,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),u=Object(c.a)(Object(c.a)({},f),o),i=[],p=[],l=function(t){return s(u,t)},d=function(t){return s(i,t)},g=function(t,n){return(n||[]).map((function(n){return n-t.startTime})).filter((function(t){return"lap"===t.type})).map((function(t){return t}))},m=function(){return u},b=function(){return g(u,p)},j=function(){return p.filter((function(t){var n=t.type;return["start","stop","pause","resume"].includes(n)})).reduce((function(t,n,e,r){var a,o=n.timestamp,c=n.type,i=null!==(a=r[e-1])&&void 0!==a?a:{},s=i.timestamp,p=i.type;return!u.running||u.paused||r[e+1]?"pause"!==c&&"stop"!==c||"start"!==p&&"resume"!==p||(t+=o-s):t+=Date.now()-o,t}),0)},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j();return"up"===e?t:a-t},O=function(){var t=w(),n=function(n,e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(t).padStart(n,"0")}(Math.abs(Math[t<0?"ceil":"floor"](n)),e)};return"".concat(t<0?"-":" ").concat([n(t/1e3/60/60),n(t/1e3/60),n(t/1e3),n(t%1e3,3)].join(":"))},h=function(t,n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return n(e)&&p.push({type:t,timestamp:e})}},v=h("start",(function(t){return!u.running&&l({running:!0,startTime:t})})),S=h("pause",(function(){return u.running&&!u.paused&&l({paused:!0})})),x=h("resume",(function(){return u.running&&u.paused&&l({paused:!1})})),A=h("stop",(function(t){return u.running&&l({endTime:t,running:!1})})),N=h("lap",(function(t){return u.running&&!u.paused&&d([].concat(i,[t]))})),T=function(){return!u.running&&l(f)&&(p=[])};return{start:v,pause:S,resume:x,stop:A,lap:N,clear:T,getState:m,getLaps:b,getEllapsedTime:w,getEllapsedTimeString:O}},m=(e(11),e(0)),b=g({direction:"down",duration:7e3});var j=function(){var t=Object(r.useState)(b.getEllapsedTimeString()),n=Object(i.a)(t,2),e=n[0],a=n[1],o=Object(r.useState)(b.getState()),u=Object(i.a)(o,2),s=u[0],d=u[1],f=Object(r.useState)(b.getLaps()),g=Object(i.a)(f,2),j=(g[0],g[1]);return Object(r.useEffect)((function(){var t=p("countdown-state");d(t.state),j(t.laps)}),[]),Object(r.useEffect)((function(){var t=l.bind(null,"countdown-state",{state:b.getState(),laps:b.getLaps()});return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[]),Object(r.useEffect)((function(){var t=window.requestAnimationFrame((function n(){a(b.getEllapsedTimeString()),s.running&&!s.paused&&(t=window.requestAnimationFrame(n))}));return function(){window.cancelAnimationFrame(t)}}),[s]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsx)("h1",{className:"App-title",children:"countdown"}),Object(m.jsxs)("nav",{className:"App-controls",children:[Object(m.jsx)("button",{className:"App-button-".concat(s.running?s.paused?"resume":"pause":"start"),onMouseDown:function(){return b[s.running?s.paused?"resume":"pause":"start"]()&&d(Object(c.a)(Object(c.a)({},s),b.getState()))}}),Object(m.jsx)("button",{className:"App-button-stop",onMouseDown:function(){return b.stop()&&d(Object(c.a)(Object(c.a)({},s),b.getState()))}}),Object(m.jsx)("button",{className:"App-button-lap",onMouseDown:function(){return b.lap()&&d(Object(c.a)(Object(c.a)({},s),b.getState()))}}),Object(m.jsx)("button",{className:"App-button-clear",onMouseDown:function(){return b.clear()&&d(Object(c.a)(Object(c.a)({},s),b.getState()))}})]})]}),Object(m.jsxs)("main",{className:"App-main",children:[Object(m.jsx)("code",{children:(b.getLaps()||[]).map((function(t){return Object(m.jsx)("p",{children:t})}))}),Object(m.jsx)("pre",{children:e})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,14)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,u=n.getTTFB;e(t),r(t),a(t),o(t),u(t)}))};u.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),w()}},[[13,1,2]]]);
//# sourceMappingURL=main.7eb3efd0.chunk.js.map