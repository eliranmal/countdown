(this.webpackJsonpcountdown=this.webpackJsonpcountdown||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(2),o=n.n(r),a=n(5),u=n.n(a),c=(n(10),n(1)),i=n(3),s=function(t,e){return Object.assign(t,e)},l=function(){return arguments.length?JSON.stringify.apply(JSON,arguments):""},d=function(t){return e=function(t){return window.localStorage&&window.localStorage.getItem(t)}(t),JSON.parse(null!==e&&void 0!==e?e:"{}");var e},p=function(t,e){return function(t,e){return window.localStorage&&window.localStorage.setItem(t,e)}(t,l(e))},f=-72e5,j={startTime:f,endTime:f},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.direction,n=void 0===e?"up":e,r=t.duration,o=void 0===r?3e4:r,a=(t.threshold,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),u=Object(c.a)(Object(c.a)({},j),a),i=[],l=[],d=function(t){return s(u,t)},p=function(t){return s(i,t)},f=function(t,e){return(e||[]).map((function(e){return e-t.startTime})).filter((function(t){return"lap"===t.type})).map((function(t){return t}))},b=function(){return u},g=function(){return f(u,l)},h=function(){return l.filter((function(t){var e=t.type;return["start","stop","pause","resume"].includes(e)})).reduce((function(t,e,n,r){var o,a=e.timestamp,c=e.type,i=null!==(o=r[n-1])&&void 0!==o?o:{},s=i.timestamp,l=i.type;return!u.running||u.paused||r[n+1]?"pause"!==c&&"stop"!==c||"start"!==l&&"resume"!==l||(t+=a-s):t+=Date.now()-a,t}),0)},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h();return"up"===n?t:o-t},m=function(){var t=O(),e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(t).padStart(e,"0")};return[e(Math.floor(t/1e3/60/60)),e(Math.floor(t/1e3/60)),e(Math.floor(t/1e3)),e(Math.floor(t%1e3),3)].join(":")},w=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e(n)&&l.push({type:t,timestamp:n})}},v=w("start",(function(t){return!u.running&&d({running:!0,startTime:t})})),S=w("pause",(function(){return u.running&&!u.paused&&d({paused:!0})})),x=w("resume",(function(){return u.running&&u.paused&&d({paused:!1})})),M=w("stop",(function(t){return u.running&&d({endTime:t,running:!1})})),T=w("lap",(function(t){return u.running&&!u.paused&&p([].concat(i,[t]))})),E=function(){return!u.running&&d(j)&&(l=[])};return{start:v,pause:S,resume:x,stop:M,lap:T,clear:E,getState:b,getLaps:g,getEllapsedTime:O,getEllapsedTimeString:m}},g=(n(11),n(0)),h=b({direction:"down"});var O=function(){var t=Object(r.useState)(h.getEllapsedTimeString()),e=Object(i.a)(t,2),n=e[0],o=e[1],a=Object(r.useState)(h.getState()),u=Object(i.a)(a,2),s=u[0],f=u[1],j=Object(r.useState)(h.getLaps()),b=Object(i.a)(j,2),O=b[0],m=b[1];return Object(r.useEffect)((function(){var t=d("countdown-state");f(t.state),m(t.laps)}),[]),Object(r.useEffect)((function(){var t=p.bind(null,"countdown-state",{state:h.getState(),laps:h.getLaps()});return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[]),Object(r.useEffect)((function(){var t=window.requestAnimationFrame((function e(){o(h.getEllapsedTimeString()),s.running&&!s.paused&&(t=window.requestAnimationFrame(e))}));return function(){window.cancelAnimationFrame(t)}}),[s]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("h1",{className:"App-title",children:"countdown"}),Object(g.jsx)("button",{onMouseDown:function(){return h.start()&&f(Object(c.a)(Object(c.a)({},s),h.getState()))},children:"start"}),Object(g.jsx)("button",{onMouseDown:function(){return h.pause()&&f(Object(c.a)(Object(c.a)({},s),h.getState()))},children:"pause"}),Object(g.jsx)("button",{onMouseDown:function(){return h.resume()&&f(Object(c.a)(Object(c.a)({},s),h.getState()))},children:"resume"}),Object(g.jsx)("button",{onMouseDown:function(){return h.stop()&&f(Object(c.a)(Object(c.a)({},s),h.getState()))},children:"stop"}),Object(g.jsx)("button",{onMouseDown:function(){return h.lap()&&f(Object(c.a)(Object(c.a)({},s),h.getState()))},children:"lap"}),Object(g.jsx)("button",{onMouseDown:function(){return h.clear()&&f(Object(c.a)(Object(c.a)({},s),h.getState()))},children:"clear"})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("main",{className:"App-main",children:[Object(g.jsx)("code",{children:(h.getLaps()||[]).map((function(t){return Object(g.jsx)("p",{children:t})}))}),Object(g.jsx)("pre",{children:n})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("pre",{children:["state: ",l(s,null,2)]}),Object(g.jsxs)("pre",{children:["laps: ",l(O,null,2)]})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),r(t),o(t),a(t),u(t)}))};u.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(O,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),m()}},[[13,1,2]]]);
//# sourceMappingURL=main.a8e85ed4.chunk.js.map